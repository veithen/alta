<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2017-08-05 
 | Rendered using Apache Maven Fluido Skin 1.4
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20170805" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Alta Maven Plugin - Introduction</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.4.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.4.min.js"></script>

                          
        
<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
              
              ga('create', 'UA-56790914-1', 'auto');
              ga('send', 'pageview');</script>
          
                  </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="https://github.com/veithen/alta">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Alta Maven Plugin</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2017-08-05
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 0.6.1
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                              
      <li class="active">
  
            <a href="#"><span class="none"></span>Introduction</a>
          </li>
                                                                                                                  
      <li>
  
                          <a href="plugin-info.html" title="Goals">
          <span class="icon-chevron-down"></span>
        Goals</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="generate-files-mojo.html" title="generate-files">
          <span class="none"></span>
        generate-files</a>
            </li>
                    
      <li>
  
                          <a href="generate-properties-mojo.html" title="generate-properties">
          <span class="none"></span>
        generate-properties</a>
            </li>
                    
      <li>
  
                          <a href="generate-resources-mojo.html" title="generate-resources">
          <span class="none"></span>
        generate-resources</a>
            </li>
                    
      <li>
  
                          <a href="generate-test-resources-mojo.html" title="generate-test-resources">
          <span class="none"></span>
        generate-test-resources</a>
            </li>
              </ul>
        </li>
                
      <li>
  
                          <a href="properties.html" title="Supported properties">
          <span class="none"></span>
        Supported properties</a>
            </li>
                
      <li>
  
                          <a href="artifact-sets.html" title="Artifact set configuration">
          <span class="none"></span>
        Artifact set configuration</a>
            </li>
                              <li class="nav-header">Examples</li>
                              
      <li>
  
                          <a href="examples/bootclasspath.html" title="Configuring endorsed libraries in unit tests">
          <span class="none"></span>
        Configuring endorsed libraries in unit tests</a>
            </li>
                
      <li>
  
                          <a href="examples/pax-exam.html" title="Using Pax Exam in Maven builds">
          <span class="none"></span>
        Using Pax Exam in Maven builds</a>
            </li>
                
      <li>
  
                          <a href="examples/pax-exam-single-module.html" title="Single module Pax Exam configuration">
          <span class="none"></span>
        Single module Pax Exam configuration</a>
            </li>
                
      <li>
  
                          <a href="examples/agent.html" title="Configuring Surefire Plugin with AspectJ load-time weaving">
          <span class="none"></span>
        Configuring Surefire Plugin with AspectJ load-time weaving</a>
            </li>
                              <li class="nav-header">Project Information</li>
                              
      <li>
  
                          <a href="source-repository.html" title="Source Repository">
          <span class="none"></span>
        Source Repository</a>
            </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <!-- ~ --><!-- #%L --><!-- Alta Maven Plugin --><!-- %% --><!-- Copyright (C) 2014 - 2016 Andreas Veithen --><!-- %% --><!-- Licensed under the Apache License, Version 2.0 (the "License"); --><!-- you may not use this file except in compliance with the License. --><!-- You may obtain a copy of the License at --><!--  --><!-- http://www.apache.org/licenses/LICENSE-2.0 --><!--  --><!-- Unless required by applicable law or agreed to in writing, software --><!-- distributed under the License is distributed on an "AS IS" BASIS, --><!-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. --><!-- See the License for the specific language governing permissions and --><!-- limitations under the License. --><!-- #L% --><!-- ~ --><div class="section">
<h2>Alta Maven Plugin<a name="Alta_Maven_Plugin"></a></h2>
<div class="section">
<h3>Overview<a name="Overview"></a></h3>
<p>This plugin takes as input a set of Maven artifacts specified as a subset of the project dependencies or as an explicit list of artifacts and produces a set of outputs with information about these artifacts. Different types of output are supported. Conceptually they all form a map like structure as described by the following table:</p>
<table border="1" class="table table-striped">
<tr class="a">
<th align="left">Type of output</th>
<th align="left">Goal</th>
<th align="left">Name (key)</th>
<th align="left">Value</th></tr>
<tr class="b">
<td align="left">Maven project property</td>
<td align="left"><a href="./generate-properties-mojo.html">alta:generate-properties</a></td>
<td align="left">Property name</td>
<td align="left">Property value</td></tr>
<tr class="a">
<td align="left">File</td>
<td align="left"><a href="./generate-files-mojo.html">alta:generate-files</a></td>
<td align="left">File name</td>
<td align="left">File content</td></tr>
<tr class="b">
<td align="left">Resource</td>
<td align="left"><a href="./generate-resources-mojo.html">alta:generate-resources</a>&#xa0;<br /><a href="./generate-test-resources-mojo.html">alta:generate-test-resources</a></td>
<td align="left">Resource name</td>
<td align="left">File content</td></tr></table>
<p>Both the key (property or file name) and the value (property value or file content) are specified as configurable templates that are evaluated for each artifact. The template language uses a simple <tt>%property%</tt> syntax. For example, <tt>%groupId%:%artifactId%:%version%</tt> would evaluate to the Maven coordinates of the artifact. This syntax was chosen to avoid conflicts with Maven property substitution (<tt>${property}</tt>) and the syntax used by <a class="externalLink" href="http://maven.apache.org/plugins/maven-invoker-plugin/">maven-invoker-plugin</a> (<tt>@property@</tt>). The complete list of supported properties can be found <a href="./properties.html">here</a>.</p></div>
<div class="section">
<h3>Example<a name="Example"></a></h3>
<p>All this sounds fairly abstract. A concrete example will help to better understand how the plugin works. Assume that the plugin is used on a project with the following dependencies:</p>
<div class="source"><pre class="prettyprint">&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;
        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;
        &lt;version&gt;4.0&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
</pre></div>
<p>Further assume that the name and value templates are configured as follows:</p>
<table border="1" class="table table-striped">
<tr class="a">
<td align="left">Name</td>
<td align="left"><tt>META-INF/versions/%groupId%/%artifactId%</tt></td></tr>
<tr class="b">
<td align="left">Value</td>
<td align="left"><tt>%version%</tt></td></tr></table>
<p>With this configuration the <a href="./generate-resources-mojo.html">alta:generate-resources</a> goal would produce the following four resources corresponding to the transitive dependencies of the project:</p>
<div>
<pre>META-INF/versions/commons-codec/commons-codec
META-INF/versions/commons-logging/commons-logging
META-INF/versions/org.apache.httpcomponents/httpclient
META-INF/versions/org.apache.httpcomponents/httpcore</pre></div>
<p>Each of these files would contain the version of the corresponding Maven artifact.</p>
<p>Note that this assumes that the plugin is configured to process the right set of dependencies. The full configuration is shown below:</p>
<div class="source"><pre class="prettyprint">&lt;plugin&gt;
    &lt;groupId&gt;com.github.veithen.alta&lt;/groupId&gt;
    &lt;artifactId&gt;alta-maven-plugin&lt;/artifactId&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;goals&gt;
                &lt;goal&gt;generate-resources&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
                &lt;name&gt;META-INF/versions/%groupId%/%artifactId%&lt;/name&gt;
                &lt;value&gt;%version%&lt;/value&gt;
                &lt;dependencySet&gt;
                    &lt;scope&gt;runtime&lt;/scope&gt;
                &lt;/dependencySet&gt;
            &lt;/configuration&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;
</pre></div>
<p>For more examples and use cases, see the links in the left-hand side navigation bar.</p>
<p>As suggested by the example shown above, the name template (resp. value template) is always specified by the <tt>name</tt> parameter (resp. <tt>value</tt> parameter), irrespective of the goal being used. As we will see below, there is also an <tt>altName</tt> parameter (but no corresponding <tt>altValue</tt> parameter).</p></div>
<div class="section">
<h3>Duplicate key handling<a name="Duplicate_key_handling"></a></h3>
<p>Obviously, the template specified for the key may yield the same value for multiple artifacts. In some cases it even makes sense to use a fixed value. The plugin joins multiple values for the same key using a configurable separator. <a href="./examples/bootclasspath.html">One of the samples</a> shows how this can be used to join information from multiple artifacts into a single Maven project property. Note that a duplicate key results in an error if no separator is specified.</p></div>
<div class="section">
<h3>Unresolvable properties and null values<a name="Unresolvable_properties_and_null_values"></a></h3>
<p>Not all properties are defined for all artifacts. For example, the <tt>classifier</tt> property can be null and the <tt>bundle.*</tt> properties are only defined for Maven artifacts that are also OSGi bundles. To deal with properties that can be null or undefined, the following extended syntax is supported:</p>
<div>
<pre>%property?prefix@suffix:default%</pre></div>
<p>If the property is defined, then the prefix and suffix will be added to its value. If it is undefined or null, then the default value will be used instead. E.g. the following expression would add the artifact classifier prefixed with a dash:</p>
<div>
<pre>%classifier?-@:%</pre></div>
<p>Another approach is to use the <tt>altName</tt> parameter. If the <tt>name</tt> template is unresolvable (i.e. if one of the expressions refers to an unresolvable property and doesn't specify a default value), then <tt>altName</tt> will be used instead of <tt>name</tt>. Finally, if <tt>altName</tt> isn't resolvable either (or isn't specified), then that artifact is simply skipped,</p></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                   2014&#x2013;2017.
          All rights reserved.      
                    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
